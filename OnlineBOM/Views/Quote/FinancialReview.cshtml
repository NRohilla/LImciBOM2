@model OnlineBOM.Models.QuoteViewModel

@using (Html.BeginForm()) 
{
    @Html.AntiForgeryToken()
    
<div class="form-horizontal">
    <div class="row">
        <div class="col-xl-2">
        </div>

        <div class="col-xl-8">

            <table id="tblFinancialReview" class="table table-striped table-bordered">
                <thead>

                    <tr>
                        <th style="display:none">
                            OpportunityID
                        </th>
                        <th style="display:none">
                            BOMID
                        </th>
                        <th class="text-center">
                            BOM
                        </th>
                        <th class="text-center">
                            BOM Total($)
                        </th>

                        <th class="text-center">
                            Discount%
                        </th>

                        <th class="text-center">
                            After Discount($)
                        </th>

                        <th class="text-center">
                            Agreed Price($)
                        </th>
                        @*<th class="text-center">
                            Financial Review
                        </th>*@
                        <th class="text-center">
                            Financial Review
                        </th>

                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model.BOMListModel)
                    {
                        if (item.TotalPrice > 0)
                        {
                    <tr>
                        <td style="display:none">
                            @Html.DisplayFor(modelItem => item.OpportunityID)
                        </td>
                        <td style="display:none">
                            @Html.DisplayFor(modelItem => item.BOMID)
                        </td>

                        <td align="center">
                            @Html.DisplayFor(modelItem => item.Name)
                        </td>

                        <td align="right">
                            @Html.DisplayFor(modelItem => item.TotalPrice)
                        </td>
                        <td align="center">
                            @Html.DisplayFor(modelItem => item.Discount)
                        </td>
                        <td align="right">
                            @Html.DisplayFor(modelItem => item.PriceAfterDiscount)
                        </td>

                        <td align="right">
                            @Html.DisplayFor(modelItem => item.FinalAgreedPrice)
                        </td>
                        @*<td align="center">
                            <span class="table-remove"><button type="button" class="btn btn-danger btn-rounded btn-sm my-0 waves-effect waves-light" onclick="ViewFinancialReview( @item.OpportunityID, @item.BOMID )">View</button></span>
                            
                        </td>*@
                        <td align="center">
                            @Html.ActionLink("View", "ProjectFinancials", new { OpportunityID = Model.QuoteID, BOMID = item.BOMID })
                            @* @Html.ActionLink("Edit BOM", "FinancialReview", new { OpportunityID = Model.QuoteID, BOMID = item.BOMID })*@
                        </td>



                    </tr>
                        }
                    }
                </tbody>

            </table>
        </div>
    </div>
</div>
}


